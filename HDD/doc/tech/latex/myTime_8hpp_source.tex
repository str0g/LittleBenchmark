\hypertarget{myTime_8hpp_source}{
\section{myTime.hpp}
}


\begin{footnotesize}\begin{alltt}
00001 \textcolor{preprocessor}{#ifndef MYTIME\_HPP\_INCLUDED}
00002 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define MYTIME\_HPP\_INCLUDED}
00003 \textcolor{preprocessor}{}
00004 \textcolor{comment}{/***************************************************************}
00005 \textcolor{comment}{ * Name:      <Input name>.cpp/h}
00006 \textcolor{comment}{ * Purpose:   Code for Application <Name>}
00007 \textcolor{comment}{ * Author:    Łukasz Buśko (buskol.waw.pl@gmail.com)}
00008 \textcolor{comment}{ * Created:   <Input date>}
00009 \textcolor{comment}{ * Copyright: Łukasz Buśko (https://str0g.wordpress.com)}
00010 \textcolor{comment}{ * License:   GNU / General Public Licens}
00011 \textcolor{comment}{ **************************************************************/}
00012 \textcolor{preprocessor}{#include <string>}
00013 \textcolor{preprocessor}{#include "boost/date\_time/posix\_time/posix\_time.hpp"}
00014 \textcolor{preprocessor}{#include "boost/date\_time/local\_time/local\_time.hpp"}
00015 
00016 \textcolor{preprocessor}{#include "myConv.hpp"}
00017 \textcolor{preprocessor}{#include "Globals.h"}
00018 
00019 \textcolor{keyword}{namespace }myTime\{
00020     \textcolor{comment}{//std::string strTimeFormatter = "[%Y/%m/%d %H:%M:%S]";}
00021     \textcolor{keyword}{inline} boost::local\_time::local\_date\_time *GetTime(\textcolor{keyword}{const} std::string &tzone =
       \textcolor{stringliteral}{"MST-07"})\{
00023         boost::local\_time::time\_zone\_ptr zone(\textcolor{keyword}{new} boost::local\_time::posix\_time\_z
      one(tzone));
00024         boost::local\_time::local\_date\_time *ldt = \textcolor{keyword}{new} boost::local\_time::local\_da
      te\_time( boost::local\_time::local\_microsec\_clock::local\_time(zone) );
00025         \textcolor{keywordflow}{return} ldt;
00026     \}
00027     \textcolor{keyword}{inline} \textcolor{keywordtype}{double} TimeDiff( boost::local\_time::local\_date\_time *Higher,\(\backslash\)
00028                             boost::local\_time::local\_date\_time *Lower)\{
00030          boost::posix\_time::time\_duration ret = *Higher-*Lower;
00031          \textcolor{keywordflow}{return} ret.total\_nanoseconds()/(double)m\_NS;
00032     \}
00033     \textcolor{keyword}{inline} \textcolor{keywordtype}{double} TimeDiff( boost::local\_time::local\_date\_time *Lower)\{
00035         boost::local\_time::local\_date\_time *Higher = GetTime();
00036         boost::posix\_time::time\_duration ret = *Higher-*Lower;
00037         \textcolor{keyword}{delete} Higher;
00038         \textcolor{keywordflow}{return} ret.total\_nanoseconds()/(double)m\_NS;
00039     \}
00040     \textcolor{keyword}{inline} std::string GetLocalTime(std::string strTimeFormatter = \textcolor{stringliteral}{"[%Y/%m/%d %H:
      %M:%S]"})\{
00042         time\_t rawtime; 
00043         \textcolor{keyword}{struct }tm * timeinfo; 
00044         \textcolor{keywordtype}{char} buffer2 [KB]; 
00045 
00046         time ( &rawtime );
00047         timeinfo = localtime ( &rawtime );
00048         strftime (buffer2,KB,strTimeFormatter.c\_str(),timeinfo);
00049 
00050         \textcolor{keywordflow}{return} buffer2;
00051     \}
00052 \}
00053 
00054 \textcolor{preprocessor}{#endif // MYTIME\_HPP\_INCLUDED}
\end{alltt}\end{footnotesize}
